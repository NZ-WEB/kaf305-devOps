(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{1546:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/registerSecr",function(){return t(8684)}])},8684:function(e,r,t){"use strict";t.r(r);var n=t(5944),a=t(8996),o=t(7536),u=t(4267),i=t(1737),c=t(7294),s=t(8498),l=t(1163),f=t(9428);function p(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function d(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function h(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){d(e,r,t[r])}))}return e}function y(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return p(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return p(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.default=(0,a.X)((function(){var e=(0,c.useState)([]),r=e[0],t=e[1],a=(0,o.cI)(),p=a.register,d=a.handleSubmit,m=a.formState.errors,b=new s.Z,v=(0,l.useRouter)(),w=d((function(e){return b.register(e).then((function(){return v.push("/")})).catch((function(e){return t(y(r).concat([e]))}))}));return(0,n.tZ)(f.C,{children:(0,n.BX)(u.Z,{children:[r.length>0&&r.map((function(e){return(0,n.tZ)(i.Z,{severity:"error",children:e.message},e.message)})),m.email&&(0,n.tZ)("span",{children:'"\u041f\u043e\u043b\u0435: email \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"'}),m.password&&(0,n.tZ)("span",{children:"\u041f\u043e\u043b\u0435: \u043f\u0430\u0440\u043e\u043b\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"}),m.username&&(0,n.tZ)("span",{children:"\u041f\u043e\u043b\u0435: \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"}),m.bio&&(0,n.tZ)("span",{children:"\u041f\u043e\u043b\u0435: \u043e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e"}),(0,n.BX)("form",{onSubmit:w,children:[(0,n.tZ)("input",h({type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c"},p("username",{required:!0}))),(0,n.tZ)("input",h({type:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 e-mail"},p("email",{required:!0}))),(0,n.tZ)("input",h({type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"},p("password",{required:!0}))),(0,n.tZ)("textarea",h({placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u0441\u043d\u043e\u0432\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e"},p("bio",{required:!0}))),(0,n.tZ)("button",{type:"submit",children:"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})]})})}))},8498:function(e,r,t){"use strict";t.d(r,{Z:function(){return f}});var n=t(4051),a=t.n(n),o=t(9669),u=t.n(o),i=t(9830);function c(e,r,t,n,a,o,u){try{var i=e[o](u),c=i.value}catch(s){return void t(s)}i.done?r(c):Promise.resolve(c).then(n,a)}function s(e){return function(){var r=this,t=arguments;return new Promise((function(n,a){var o=e.apply(r,t);function u(e){c(o,n,a,u,i,"next",e)}function i(e){c(o,n,a,u,i,"throw",e)}u(void 0)}))}}function l(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f=function(){function e(){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e)}var r,t,n;return r=e,(t=[{key:"login",value:function(e){return s(a().mark((function r(){var t;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u().post("".concat(i.S,"/users/login"),JSON.stringify({user:e}),{headers:{"Content-Type":"application/json"}});case 3:return t=r.sent,localStorage.setItem("user",JSON.stringify(t.data.user)),r.abrupt("return",t.data.user);case 8:throw r.prev=8,r.t0=r.catch(0),r.t0.response.data;case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()}},{key:"register",value:function(e){return s(a().mark((function r(){var t;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,u().post("".concat(i.S,"/users"),JSON.stringify({user:e}),{headers:{"Content-Type":"application/json"}});case 3:return t=r.sent,localStorage.setItem("user",JSON.stringify(t.data.user)),r.abrupt("return",t.data.user);case 8:throw r.prev=8,r.t0=r.catch(0),r.t0.response.data;case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()}}])&&l(r.prototype,t),n&&l(r,n),e}()}},function(e){e.O(0,[406,996,774,888,179],(function(){return r=1546,e(e.s=r);var r}));var r=e.O();_N_E=r}]);